(this.webpackJsonpfamtrees=this.webpackJsonpfamtrees||[]).push([[0],{73:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r,a=n(0),s=n.n(a),c=n(22),i=n.n(c),o=(n(73),n(53)),l=n(67),u=n.p+"static/media/fam_trees.bd736a6d.svg",d=n(1),h=function(){var e=Object(d.jsxs)(o.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"border-0 animated-icon",children:[Object(d.jsx)("span",{}),Object(d.jsx)("span",{}),Object(d.jsx)("span",{})]});return Object(d.jsxs)(o.a,{className:"py-1 border-bottom border-primary",bg:"dark",variant:"dark",expand:!1,children:[Object(d.jsx)(o.a.Brand,{href:"/",children:Object(d.jsx)("img",{src:u,alt:"famtrees",height:45})}),e,Object(d.jsx)(o.a.Collapse,{id:"basic-navbar-nav",children:Object(d.jsx)(l.a,{className:"m-auto",children:Object(d.jsx)(l.a.Link,{className:"m-auto text-uppercase",href:"#",children:"SEARCH AND BREADCRUMB"})})})]})},j=n(18),p=n(9),b=n(7),m=function(){return Object(d.jsxs)("footer",{className:"p-3",children:[Object(d.jsx)("hr",{className:"footer-hr"}),Object(d.jsx)(j.a,{className:"mt-3",children:Object(d.jsxs)(b.a,{children:[Object(d.jsxs)(p.a,{children:[Object(d.jsx)(b.a,{children:Object(d.jsx)("strong",{children:"famtree Homepage"})}),Object(d.jsx)(b.a,{children:Object(d.jsx)("strong",{children:Object(d.jsx)("a",{href:"https://www.netgroup.com/",children:"NetGroup"})})})]}),Object(d.jsx)(p.a,{}),Object(d.jsxs)(p.a,{className:"text-right",children:["Mr.Toruabi",Object(d.jsx)("hr",{className:"m-0"}),"Since 2021"]})]})})]})},f=n(33),x=n(8),g=n.n(x),v=n(11),O=n(13),y=n(14),N=n(21),k=n(20),w=n(10),C=function(e){var t=e.famTree,n=e.onClick;return Object(d.jsxs)(b.a,{className:"my-3 p-2 mx-2 border-white border-bottom border-top hover bg-dark",onClick:function(){return n()},children:[Object(d.jsx)(p.a,{className:"text-primary fs-3",children:t.getName()}),Object(d.jsx)(p.a,{className:"text-right align-self-center",children:t.getPeople().length&&Object(d.jsxs)(d.Fragment,{children:[t.getPeople().length," Members"]})})]})},I=n(40),M=function(e){var t=e.onChange,n=e.value,r=e.placeholder,a=void 0===r?"Search...":r,s=e.type;return Object(d.jsx)(I.a,{type:s,value:n,onChange:function(e){return t(e)},placeholder:a,className:"bg-transparent fam-control border-bottom border-primary text-white"})},P=n(47),S=n(60),D=function(e){var t=e.onClick,n=e.children,r=e.disabled,a=void 0!==r&&r;return Object(d.jsx)(S.a,{disabled:a,className:"rounded-0 text-dark btn-block r-br",onClick:function(){return t()},children:n})},L=function(e){var t=e.onClick,n=e.children;return Object(d.jsx)(S.a,{className:"rounded-0 bg-dark text-white r-bl btn-block",onClick:function(){return t()},children:n})},E=function(e){var t=e.show,n=e.onSubmit,r=e.onClose,a=e.children,s=e.titleRed,c=e.titleWhite,i=e.submitDisabled,o=void 0!==i&&i;return Object(d.jsxs)(P.a,{show:t,size:"sm",centered:!0,backdrop:"static",keyboard:!1,children:[(s||c)&&Object(d.jsx)(P.a.Header,{children:Object(d.jsxs)(P.a.Title,{className:"m-auto text-primary",children:[s,Object(d.jsx)("span",{className:"text-white",children:c})]})}),Object(d.jsx)(P.a.Body,{children:a}),Object(d.jsx)(P.a.Footer,{children:Object(d.jsxs)(b.a,{className:"w-100",children:[Object(d.jsx)(p.a,{className:"pr-0",children:Object(d.jsx)(L,{onClick:r,children:"Back"})}),Object(d.jsx)(p.a,{className:"pl-2",children:Object(d.jsx)(D,{disabled:o,onClick:n,children:"Create New"})})]})})]})},A=function(){function e(t){Object(O.a)(this,e),this.id=void 0,this.id=t}return Object(y.a)(e,[{key:"getId",value:function(){return this.id}},{key:"toString",value:function(){return"[".concat(this.constructor.name,": ").concat(this.getId(),"]")}}]),e}(),T=function(e){Object(N.a)(n,e);var t=Object(k.a)(n);function n(e,r){var a;return Object(O.a)(this,n),(a=t.call(this,e)).name=void 0,a.people=void 0,a.treeSize=void 0,a.id=e,a.name=r,a.treeSize=0,a.people={},a}return Object(y.a)(n,[{key:"getName",value:function(){return this.name}},{key:"addPerson",value:function(e){e.getId()in this.people||(this.people[e.getId()]=e)}},{key:"getPeople",value:function(){return Object.values(this.people)}},{key:"toString",value:function(){return"".concat(this.getId(),", ").concat(this.getName())}},{key:"getPeopleMap",value:function(){return this.people}}]),n}(A),B=function(e){var t=e.onCreate,n=e.onCancel,r=e.show,s=void 0===r||r,c=Object(a.useState)(""),i=Object(w.a)(c,2),o=i[0],l=i[1];return Object(d.jsx)(E,{submitDisabled:!o,show:s,onClose:n,onSubmit:function(){t(new T(0,o)),l("")},titleRed:"Create New ",titleWhite:"Tree",children:Object(d.jsx)(M,{value:o,onChange:function(e){return l(e.target.value)},placeholder:"Name..."})})},F=function(e){var t=e.caps,n=void 0!==t&&t,r=e.red,a=void 0===r?"":r,s=e.white,c=void 0===s?"":s,i=e.children;return Object(d.jsxs)("h1",{className:"text-center my-4"+(n?" text-uppercase":""),children:[i,Object(d.jsx)("span",{className:"text-primary",children:a}),c]})},R=function(e){return Object(d.jsxs)("span",{onClick:function(){return e.onClick()},className:"fly-button bg-primary hover "+(e.className||""),children:[e.icon&&Object(d.jsx)("span",{className:"go go-3x text-dark p-2 "+e.icon}),e.children]})},H=function(e){var t=e.options,n=e.filter,r=e.Map,s=e.loading,c=void 0!==s&&s,i=e.emptyList,o=void 0===i?"":i,l=e.loadingText,u=void 0===l?"Loading...":l,h=Object(a.useState)(""),j=Object(w.a)(h,2),p=j[0],b=j[1],m=t.filter((function(e){return n(e,p)}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(M,{onChange:function(e){return b(e.target.value)},value:p}),m.map((function(e){return r(e)})),c&&u&&Object(d.jsx)("h4",{className:"mt-5 text-center",children:u}),!c&&0===t.length&&Object(d.jsx)("h4",{className:"mt-5 text-center",children:o})]})},z=function(e){var t=e.trees,n=e.doNewTree,r=e.children,s=e.loading,c=Object(a.useState)(!1),i=Object(w.a)(c,2),o=i[0],l=i[1],u=Object(a.useState)(null),h=Object(w.a)(u,2),p=h[0],b=h[1];return Object(d.jsxs)(d.Fragment,{children:[!p&&Object(d.jsxs)(j.a,{children:[Object(d.jsx)(F,{red:"Family",white:" trees",caps:!0}),Object(d.jsx)(H,{Map:function(e){return Object(d.jsx)(C,{onClick:function(){!function(e){b(e)}(e)},famTree:e},e.getId())},filter:function(e,t){return e.getName().toLowerCase().includes(t.toLowerCase())},options:t,loading:s,emptyList:"Looks like no trees yet."}),Object(d.jsx)(B,{show:o,onCreate:function(e){n(e),l(!1)},onCancel:function(){return l(!1)}}),Object(d.jsx)(R,{onClick:function(){return l(!0)},icon:"go-add"})]}),p&&r(p,(function(){return b(null)}))]})},V=n(26);!function(e){e[e.MALE=0]="MALE",e[e.FEMALE=1]="FEMALE"}(r||(r={}));var G=r;function J(e){var t=new Date(e),n=t.getDate().toString(),r=(t.getMonth()+1).toString(),a=t.getFullYear().toString();return"".concat(a.padStart(4,"0"),"-").concat(r.padStart(2,"0"),"-").concat(n.padStart(2,"0"))}var Y=function(e){Object(N.a)(n,e);var t=Object(k.a)(n);function n(e,r,a,s,c,i,o){var l;return Object(O.a)(this,n),(l=t.call(this,e)).id=void 0,l.firstName=void 0,l.lastName=void 0,l.sex=void 0,l.birthday=void 0,l.deathDate=void 0,l.treeId=void 0,l.id=e,l.firstName=r,l.lastName=a,l.sex=s,l.treeId=c,l.birthday=J(i||new Date("0001-01-01")),l.deathDate=J(o||new Date("0001-01-01")),l}return Object(y.a)(n,[{key:"getId",value:function(){return this.id}},{key:"getFirstName",value:function(){return this.firstName}},{key:"getLastName",value:function(){return this.lastName}},{key:"toString",value:function(){return"".concat(this.getId(),": ").concat(this.getFirstName()," ").concat(this.getLastName(),", ").concat(this.getSex()===G.MALE?"Male":"Female",", ").concat(this.getTreeId())}},{key:"getBirthday",value:function(){return J(this.birthday)}},{key:"getDeathDate",value:function(){return J(this.deathDate)}},{key:"getSex",value:function(){return this.sex}},{key:"getTreeId",value:function(){return this.treeId}},{key:"isAlive",value:function(){return new Date(this.getDeathDate())<new Date("0002-02-02")}}]),n}(A);Y.Dummy=void 0,Y.Dummy=new Y(0,"Dummy","Person",G.MALE,1,"","");var K,X=Y,W=function(e){var t=e.personManager,n=e.treeId,r=Object(a.useState)(!1),s=Object(w.a)(r,2),c=s[0],i=s[1],o=Object(a.useState)(""),l=Object(w.a)(o,2),u=l[0],h=l[1],j=Object(a.useState)(""),p=Object(w.a)(j,2),b=p[0],m=p[1],f=Object(a.useState)(""),x=Object(w.a)(f,2),g=x[0],v=x[1],O=Object(a.useState)(""),y=Object(w.a)(O,2),N=y[0],k=y[1],C=Object(a.useState)(0),P=Object(w.a)(C,2),S=P[0],D=P[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)(E,{submitDisabled:!(u&&b&&g),show:c,onClose:function(){return i(!1)},onSubmit:function(){return function(){i(!1);var e=new X(0,u,b,parseInt(String(S)),n,g,N);t.addPerson(e),h(""),m(""),v(""),k(""),D(0)}()},titleRed:"Create New ",titleWhite:"Person",children:[Object(d.jsx)(M,{value:u,onChange:function(e){return h(e.target.value)},placeholder:"First name..."}),Object(d.jsx)(M,{value:b,onChange:function(e){return m(e.target.value)},placeholder:"Last name..."}),Object(d.jsx)(M,{value:g,onChange:function(e){return v(e.target.value)},placeholder:"Born...",type:"date"}),Object(d.jsx)(M,{value:N,onChange:function(e){return k(e.target.value)},placeholder:"Died...",type:"date"}),Object(d.jsxs)(I.a,{as:"select",value:S,onChange:function(e){return D(e.target.value)},placeholder:"Sex",className:"bg-transparent fam-control border-bottom border-primary text-white",children:[Object(d.jsx)("option",{value:0,className:"bg-dark hover-primary",children:"Male"}),Object(d.jsx)("option",{value:1,className:"bg-dark hover-primary",children:"Female"})]})]}),Object(d.jsx)(R,{onClick:function(){return i(!0)},icon:"go-add"})]})},q=n(62),U=n(61),_=n.p+"static/media/female-solid.f4f8022b.svg",Q=n.p+"static/media/male-solid.802da44c.svg";!function(e){e[e.DETAILS=0]="DETAILS",e[e.PHONE=1]="PHONE",e[e.DESKTOP=2]="DESKTOP"}(K||(K={}));var Z,$=function(e){var t=e.person,n=e.onClick;return Object(d.jsxs)(b.a,{className:"my-3 mx-2 border-white border-bottom border-top bg-dark p-2",children:[Object(d.jsxs)(p.a,{className:"fs-3 hover",onClick:function(){return n(K.PHONE)},children:[Object(d.jsx)("img",{className:"mr-3",src:t.getSex()===G.MALE?Q:_,alt:"person",height:35}),Object(d.jsx)("span",{className:"text-primary",children:t.getFirstName()})," ",t.getLastName()]}),Object(d.jsx)(p.a,{className:"text-right align-self-center",children:Object(d.jsx)(q.a,{placement:"left",overlay:Object(d.jsx)(U.a,{id:"tooltip-left",children:"Person details"}),children:Object(d.jsx)("span",{onClick:function(e){e.preventDefault(),n(K.DETAILS)},className:"go go-more-horiz hover go-2x hover-primary"})})})]})},ee=function(){function e(t,n,r){Object(O.a)(this,e),this.add=void 0,this.remove=void 0,this.update=void 0,this.add=t,this.remove=n,this.update=r}return Object(y.a)(e,[{key:"addPerson",value:function(e){return this.add(e)}},{key:"removePerson",value:function(e){return this.remove(e)}},{key:"updatePerson",value:function(e){return this.update(e)}}]),e}(),te=function(e){var t=e.onBack,n=e.famTree,r=e.personManager,s=e.people,c=e.loading,i=e.children,o=Object(a.useState)(null),l=Object(w.a)(o,2),u=l[0],h=l[1],p=Object(a.useState)(null),b=Object(w.a)(p,2),m=b[0],f=b[1],x=new ee(r.addPerson,(function(e){r.removePerson(e),u&&e.getId()===u.getId()&&h(null)}),(function(e){r.updatePerson(e),u&&e.getId()===u.getId()&&h(e)}));return Object(d.jsxs)(d.Fragment,{children:[!u&&Object(d.jsxs)(j.a,{children:[Object(d.jsx)(F,{red:n.getName(),caps:!0,children:Object(d.jsx)(q.a,{placement:"left",overlay:Object(d.jsx)(U.a,{id:"tooltip-left",children:"Back to menu"}),children:Object(d.jsx)("span",{className:"text-left go go-back hover hover-primary",onClick:function(){return t()}})})}),Object(d.jsx)(H,{Map:function(e){return Object(d.jsx)($,{onClick:function(t){h(e),f(t)},person:e},e.getId())},filter:function(e,t){return(e.getFirstName()+e.getLastName()).toLowerCase().includes(t.toLowerCase())},options:s,loading:c,emptyList:"Looks like no people yet."}),Object(d.jsx)(W,{personManager:r,treeId:n.getId()})]}),u&&i(u,m,(function(){return h(null)}),x)]})},ne=function(e){var t=e.initView,n=e.children,r=Object(a.useState)(t),s=Object(w.a)(r,2),c=s[0],i=s[1];return n(c,(function(e){return i(e)}))},re=n(66),ae=n.n(re),se=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r,a,s,c,i,o,l,u,d,h;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={firstName:t.getFirstName(),lastName:t.getLastName(),birthday:t.getBirthday(),sex:t.getSex(),treeId:t.getTreeId()},t.getDeathDate()&&(n.deathDate=t.getDeathDate()),e.next=4,fetch("/api/people",{body:JSON.stringify(n),method:"post",headers:{accept:"text/json","Content-Type":"application/json"}});case 4:return r=e.sent,e.prev=5,e.next=8,r.json();case 8:if(!(a=e.sent).person){e.next=12;break}return s=a.person,c=s.id,i=s.firstName,o=s.lastName,l=s.birthday,u=s.deathDate,d=s.treeId,h=s.sex,e.abrupt("return",new X(c,i,o,h,d,l,u));case 12:e.next=16;break;case 14:e.prev=14,e.t0=e.catch(5);case 16:return ae.a.fire({title:"Invalid inputs!\nPlease try again.",icon:"error",timer:2500,showCancelButton:!1,showConfirmButton:!1}),e.abrupt("return",null);case 18:case"end":return e.stop()}}),e,null,[[5,14]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/people/"+t.getId(),{method:"delete"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return","Deleted"===r.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r,a,s,c,i,o,l,u,d,h;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={id:t.getId(),firstName:t.getFirstName(),lastName:t.getLastName(),birthday:t.getBirthday(),deathDate:t.getDeathDate(),treeId:t.getTreeId()},e.next=3,fetch("/api/people",{body:JSON.stringify(n),method:"put",headers:{accept:"text/json","Content-Type":"application/json"}});case 3:return r=e.sent,e.prev=4,e.next=7,r.json();case 7:if(!(a=e.sent).person){e.next=11;break}return s=a.person,c=s.id,i=s.firstName,o=s.lastName,l=s.birthday,u=s.deathDate,d=s.treeId,h=s.sex,e.abrupt("return",new X(c,i,o,h,d,l,u));case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:return ae.a.fire({title:"Invalid inputs!\nPlease try again.",icon:"error",timer:2500,showCancelButton:!1,showConfirmButton:!1}),e.abrupt("return",null);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),oe=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/tree-people/"+t);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r.people.map((function(e){var t=e.id,n=e.firstName,r=e.lastName,a=e.birthday,s=e.deathDate,c=e.treeId,i=e.sex;return new X(t,n,r,i,c,a,s)})));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),le=n(90),ue=n(89),de=(n(80),function(e){var t=e.img,n=e.lg,r=e.md,a=e.sm,s=(n?"lg":r&&"md")||a&&"sm";s||(s="sm");var c=e.center?"profile-center":"";return Object(d.jsx)("div",{className:c+" border-wrapper-round user-select-none bg-dark profile profile-"+s,children:Object(d.jsx)("div",{className:"border-wrapper-round bg-primary",children:Object(d.jsx)("div",{className:"border-wrapper-round bg-dark",children:Object(d.jsx)("div",{className:"text-center person-profile",children:Object(d.jsx)("img",{src:t,className:"rounded",alt:"..."})})})})})}),he=function(e){var t,n=e.familyMember,r=e.onViewChange,a=n.Person,s=[],c=Object(V.a)(n.parents);try{for(c.s();!(t=c.n()).done;){var i=t.value;s=[].concat(Object(f.a)(s),Object(f.a)(i.siblings))}}catch(o){c.e(o)}finally{c.f()}return Object(d.jsx)("div",{className:"bg-light mx-1 text-dark font-weight-bold card card-body mt-5",children:Object(d.jsxs)("div",{className:"",children:[Object(d.jsx)(de,{img:a.getSex()===G.MALE?Q:_,center:!0,md:!0}),Object(d.jsxs)(b.a,{children:[Object(d.jsx)(p.a,{children:!a.isAlive()&&Object(d.jsx)("span",{className:"person-dead"})}),Object(d.jsx)(p.a,{className:"text-right",children:Object(d.jsx)("span",{onClick:function(){return r(K.DETAILS)},className:"go go-more-vert hover hover-primary go-2x"})})]}),Object(d.jsxs)(p.a,{className:"lh-1 mb-2 user-select-none",children:[Object(d.jsx)(b.a,{className:"justify-content-center text-primary",children:a.getFirstName()}),Object(d.jsx)(b.a,{className:"justify-content-center fs-5 mb-1",children:a.getLastName()}),Object(d.jsx)(b.a,{className:"justify-content-center  fs-8 lh-0",children:a.getBirthday()}),Object(d.jsx)(b.a,{className:"justify-content-center fs-8 lh-0",children:a.getDeathDate()})]}),Object(d.jsxs)(b.a,{children:[Object(d.jsxs)(p.a,{children:[Object(d.jsx)(b.a,{className:"justify-content-center user-select-none",children:"Kids"}),Object(d.jsx)(b.a,{className:"justify-content-center user-select-none",children:n.children.length})]}),Object(d.jsxs)(p.a,{className:"text-center",children:[Object(d.jsx)(b.a,{className:"justify-content-center user-select-none",children:"Siblings"}),Object(d.jsx)(b.a,{className:"justify-content-center user-select-none",children:n.siblings.length})]}),Object(d.jsxs)(p.a,{className:"text-center",children:[Object(d.jsx)(b.a,{className:"justify-content-center user-select-none",children:"Piblings"}),Object(d.jsx)(b.a,{className:"justify-content-center user-select-none",children:s.length})]})]})]})})},je=function(e){var t=e.person,n=e.tag;e.onClick;return Object(d.jsx)(p.a,{className:"p-1",xs:5,md:4,lg:3,children:Object(d.jsxs)("div",{className:"fs-5 card bg-secondary text-dark font-weight-bold p-2 hover hover-bg-gray-light",children:[Object(d.jsx)(de,{img:t.getSex()===G.MALE?Q:_}),Object(d.jsx)(b.a,{children:Object(d.jsx)(p.a,{className:"text-right mr-2 text-uppercase",children:n})}),Object(d.jsxs)("div",{className:"fs-5",children:[Object(d.jsx)(b.a,{className:"text-primary justify-content-center",children:t.getFirstName()}),Object(d.jsx)(b.a,{className:"justify-content-center",children:t.getLastName()})]})]})})};!function(e){e[e.PARENT=0]="PARENT",e[e.SIBLING=1]="SIBLING",e[e.CHILD=2]="CHILD",e[e.PIBLING=3]="PIBLING",e[e.GRANDPARENTS=4]="GRANDPARENTS"}(Z||(Z={}));var pe=Z,be={};be[pe.PARENT]=["dad","mom"],be[pe.CHILD]=["son","daughter"],be[pe.SIBLING]=["brother","sister"],be[pe.PIBLING]=["uncle","aunt"],be[pe.GRANDPARENTS]=["granny","grandpa"];var me=function(e,t){return be[t][e.getSex()]},fe=function(e){var t=e.person,n=e.onClick;return Object(d.jsx)(b.a,{className:"my-3 mx-2 border-white border-bottom border-top hover bg-dark",onClick:function(){return n()},children:Object(d.jsx)(j.a,{children:Object(d.jsxs)(b.a,{className:"p-1",children:[Object(d.jsxs)(p.a,{className:"text-primary font-weight-bold",xs:7,children:[Object(d.jsx)("img",{className:"mr-3",src:t.getSex()===G.MALE?Q:_,alt:"person",height:20}),t.getLastName()]}),Object(d.jsx)(p.a,{className:"text-right align-self-center",children:t.getFirstName()})]})})})},xe=function(e){e.personManager;var t=e.parentManager,n=e.person,r=e.isParent,a=e.familyMembers,s=e.sex,c=e.doHide,i=e.show,o=Object.values(a).map((function(e){return e.Person}));void 0!==s&&(o=o.filter((function(e){return e.getSex()===s}))),o=r?o.filter((function(e){return new Date(e.getBirthday())>new Date(n.getBirthday())})):o.filter((function(e){return new Date(e.getBirthday())<new Date(n.getBirthday())}));var l=function(e){if(r)return t.addParent(e,n);t.addParent(n,e),c(!1)};return Object(d.jsx)(E,{show:i,onClose:function(){return c(!1)},onSubmit:function(){console.log("Creating new")},children:Object(d.jsx)(H,{options:o,filter:function(e,t){return(e.getFirstName()+e.getLastName()).toLowerCase().includes(t.toLowerCase())},Map:function(e){return Object(d.jsx)(fe,{person:e,onClick:function(){return l(e)}},e.getId())}})})},ge=function(e){var t=e.person,n=e.isParent,r=e.tag,s=e.sex,c=e.personManager,i=e.parentManager,o=e.familyMembers,l=Object(a.useState)(!1),u=Object(w.a)(l,2),h=u[0],j=u[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(p.a,{className:"p-1",xs:5,md:4,lg:3,onClick:function(){return j(!0)},children:Object(d.jsxs)("div",{className:"fs-5 card bg-secondary text-dark font-weight-bold p-2 hover hover-bg-gray-light",children:[void 0!==s&&Object(d.jsx)(de,{img:s===G.MALE?Q:_}),Object(d.jsx)(b.a,{children:Object(d.jsx)(p.a,{className:"text-right mr-2 text-uppercase",children:r})}),Object(d.jsx)("span",{className:"go go-add go-2x text-center"})]})}),Object(d.jsx)(xe,{sex:s,familyMembers:o,show:h,doHide:function(){return j(!1)},person:t,isParent:n,personManager:c,parentManager:i})]})},ve=function(e){var t,n,r,a=e.person,s=e.onViewChange,c=e.familyMembers,i=e.parentManager,o=e.personManager,l=c[a.getId()],u=l.parents,h=Object(V.a)(u);try{for(h.s();!(r=h.n()).done;){var m=r.value;m.Person.getSex()===G.MALE?n=m:t=m}}catch(g){h.e(g)}finally{h.f()}var f=l.siblings,x=l.children;return console.log("Relatives",f,x),Object(d.jsxs)(j.a,{children:[Object(d.jsxs)(b.a,{className:"profile-modal-lg scrollable",children:[!!n&&Object(d.jsx)(je,{person:n.Person,tag:me(n.Person,pe.PARENT)}),!n&&Object(d.jsx)(ge,{familyMembers:c,personManager:o,parentManager:i,person:a,isParent:!1,tag:"dad",sex:G.MALE}),!!t&&Object(d.jsx)(je,{person:t.Person,tag:me(t.Person,pe.PARENT)}),!t&&Object(d.jsx)(ge,{familyMembers:c,personManager:o,parentManager:i,person:a,isParent:!1,tag:"mom",sex:G.FEMALE})]}),Object(d.jsx)(b.a,{children:Object(d.jsx)(p.a,{children:Object(d.jsxs)(le.a,{spaceBetween:50,slidesPerView:1,children:[Object(d.jsx)(ue.a,{children:Object(d.jsx)(he,{onViewChange:s,familyMember:l})}),f.map((function(e){return Object(d.jsx)(ue.a,{children:Object(d.jsx)(he,{onViewChange:s,familyMember:e})},e.Person.getId())}))]})})}),Object(d.jsxs)(b.a,{className:"profile-modal-md scrollable",children:[x.map((function(e){return Object(d.jsx)(je,{person:e.Person,tag:me(e.Person,pe.CHILD)},e.Person.getId())})),Object(d.jsx)(ge,{familyMembers:c,personManager:o,parentManager:i,person:a,isParent:!0,tag:"child"})]})]})},Oe=n(23),ye=function(e){var t=e.label,n=e.value;return Object(d.jsxs)(b.a,{children:[Object(d.jsx)(p.a,{className:"bold text-gray text-right",children:t}),Object(d.jsx)(p.a,{className:"text-dark",children:n})]})},Ne=function(e){var t=e.person,n=e.onEdit,r=e.onViewChange,a=e.onBack;return Object(d.jsx)(Oe.a,{className:"profile-modal-lg",children:Object(d.jsxs)(Oe.a.Body,{className:"font-weight-bold",children:[Object(d.jsx)(de,{img:t.getSex()===G.MALE?Q:_,lg:!0,center:!0}),Object(d.jsxs)(b.a,{className:"mb-3",children:[Object(d.jsx)(p.a,{className:"text-dark",children:!t.isAlive()&&Object(d.jsx)("span",{className:"person-dead"})}),Object(d.jsxs)(p.a,{className:"text-dark mr-3",children:[Object(d.jsx)(b.a,{children:Object(d.jsx)("span",{onClick:function(){return a()},className:"go go-back go-2x hover hover-primary ml-auto"})}),Object(d.jsx)(b.a,{children:Object(d.jsx)("span",{onClick:function(){return n()},className:"go go-edit go-2x hover hover-primary ml-auto"})}),Object(d.jsx)(b.a,{className:"mt-1",children:Object(d.jsx)("span",{onClick:function(){return r(K.PHONE)},className:"go go-graph go-2x hover hover-primary ml-auto"})})]})]}),Object(d.jsx)(ye,{label:"First Name:",value:t.getFirstName()}),Object(d.jsx)(ye,{label:"Last Name:",value:t.getLastName()}),Object(d.jsx)(ye,{label:"Birthday:",value:t.getBirthday()}),!t.isAlive()&&Object(d.jsx)(ye,{label:"Death Date:",value:t.getDeathDate()})]})})},ke=function(e){var t=e.person,n=e.onClick,r=void 0===n?function(){}:n;return Object(d.jsxs)(Oe.a,{className:"my-2 hover",onClick:function(){return r()},children:[!t.isAlive()&&Object(d.jsx)("span",{className:"person-dead-sm"}),Object(d.jsxs)("div",{className:"fs-4 text-center text-primary font-weight-bold m-1",children:[t.getFirstName(),Object(d.jsx)("span",{className:"text-dark",children:t.getLastName()})]})]})},we=function(e){var t=e.title,n=e.caps,r=void 0===n||n;return Object(d.jsx)("h3",{className:"text-center mt-3 font-weight-bold"+(r?" text-uppercase":""),children:Object(d.jsx)("span",{className:"text-primary",children:t})})},Ce=function(e){var t=e.person,n=e.tag,r=e.onClick,a=void 0===r?function(){}:r;return Object(d.jsxs)(Oe.a,{className:"my-2 hover",onClick:function(){return a()},children:[!t.isAlive()&&Object(d.jsx)("span",{className:"person-dead-sm"}),Object(d.jsxs)(b.a,{className:"m-1",children:[Object(d.jsx)(p.a,{className:"text-center",children:Object(d.jsxs)("span",{className:"fs-4 text-primary font-weight-bold ",children:[t.getFirstName(),Object(d.jsx)("span",{className:"text-dark",children:t.getLastName()})]})}),Object(d.jsx)(p.a,{className:"text-right align-self-center",children:Object(d.jsx)("span",{className:"font-weight-bold text-dark",children:n})})]})]})},Ie=function(e){var t=e.person,n=e.onEdit,r=e.onViewChange,a=e.onBack,s=e.familyMembers,c=s[t.getId()].spouses,i=s[t.getId()].children,o=s[t.getId()].parents;return Object(d.jsxs)(j.a,{children:[Object(d.jsx)(Ne,{onBack:a,person:t,onEdit:n,onViewChange:r}),c.length>0&&Object(d.jsx)(we,{title:"Spouse"+(c.length>1?"s":"")}),c.map((function(e){return Object(d.jsx)(ke,{person:e.Person},e.Person.getId())})),i.length>0&&Object(d.jsx)(we,{title:"Kid"+(c.length>1?"s":"")}),i.map((function(e){return Object(d.jsx)(Ce,{person:e.Person,tag:"Daughter"},e.Person.getId())})),Object(d.jsx)(we,{title:"Relatives"}),o.map((function(e){return Object(d.jsx)(Ce,{person:e.Person,tag:"Mom"},e.Person.getId())}))]})},Me=n(63),Pe=function(e){var t=e.label,n=e.value,r=e.onChange,a=e.placeholder,s=e.type;return Object(d.jsxs)(Me.a.Group,{as:b.a,className:"mb-1",children:[Object(d.jsx)(Me.a.Label,{column:!0,sm:"4",className:"bold text-gray text-right",children:t}),Object(d.jsx)(p.a,{sm:"8",children:Object(d.jsx)(Me.a.Control,{className:"text-dark font-weight-bold",value:n,onChange:function(e){return r(e.target.value)},type:s,placeholder:a})})]})},Se=function(e){var t=e.person,n=e.onClose,r=e.personManager,s=Object(a.useState)(t.getFirstName()),c=Object(w.a)(s,2),i=c[0],o=c[1],l=Object(a.useState)(t.getLastName()),u=Object(w.a)(l,2),h=u[0],j=u[1],m=Object(a.useState)(t.getBirthday()),f=Object(w.a)(m,2),x=f[0],g=f[1],v=Object(a.useState)(t.isAlive()?"":t.getDeathDate()),O=Object(w.a)(v,2),y=O[0],N=O[1],k=Object(a.useState)(t.getSex()),C=Object(w.a)(k,2),I=C[0];C[1];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Oe.a,{className:"profile-modal-lg",children:Object(d.jsxs)(Oe.a.Body,{className:"font-weight-bold",children:[Object(d.jsx)(de,{img:I===G.MALE?Q:_,lg:!0,center:!0}),Object(d.jsxs)(b.a,{className:"mb-5",children:[Object(d.jsx)(p.a,{className:"text-dark",children:Object(d.jsx)(b.a,{children:Object(d.jsx)("span",{className:"go go-trash go-2x hover hover-primary ml-3",onClick:function(){return r.removePerson(t)}})})}),Object(d.jsx)(p.a,{className:"text-dark mr-3 mb-4",children:Object(d.jsx)(b.a,{children:Object(d.jsx)("span",{className:"go go-close go-2x hover hover-primary ml-auto",onClick:function(){return n()}})})})]}),Object(d.jsx)(Pe,{value:i,onChange:function(e){return o(e)},label:"First Name:",placeholder:"First Name..."}),Object(d.jsx)(Pe,{value:h,onChange:function(e){return j(e)},label:"Last Name:",placeholder:"Last Name..."}),Object(d.jsx)(Pe,{value:x,onChange:function(e){return g(e)},label:"Birthday:",placeholder:"Select...",type:"date"}),Object(d.jsx)(Pe,{value:y,onChange:function(e){return N(e)},label:"Death date:",placeholder:"Select...",type:"date"})]})}),Object(d.jsx)(R,{onClick:function(){var e=new X(t.getId(),i,h,0,t.getTreeId(),x,y);r.updatePerson(e)},icon:"go-check"})]})},De=function(e){var t=e.label,n=e.onClick,r=void 0===n?function(){}:n;return Object(d.jsx)(Oe.a,{className:"bg-secondary p-2 hover hover-bg-gray",onClick:function(){return r()},children:Object(d.jsxs)(b.a,{className:"fs-4 align-self-center",children:[Object(d.jsx)("span",{className:"font-weight-bold text-uppercase text-primary text-center",children:t}),Object(d.jsx)("span",{className:"ml-2 go go-person-add text-dark fs-1"})]})})},Le=function(e){var t=e.person,n=e.onCancelEdit,r=e.personManager,a=e.familyMembers,s=a[t.getId()].children,c=a[t.getId()].parents;return Object(d.jsxs)(j.a,{children:[Object(d.jsx)(Se,{personManager:r,person:t,onClose:n}),Object(d.jsx)(we,{title:"Parents"}),c.map((function(e){return Object(d.jsx)(ke,{person:e.Person})})),Object(d.jsx)(De,{label:"dad"}),Object(d.jsx)(we,{title:"Kids"}),Object(d.jsxs)(b.a,{children:[s.map((function(e){return Object(d.jsx)(p.a,{className:"m-0",sm:6,md:4,xl:3,children:Object(d.jsx)(Ce,{person:e.Person,tag:me(e.Person,pe.CHILD)})})})),Object(d.jsx)(p.a,{className:"m-1",sm:6,md:4,xl:3,children:Object(d.jsx)(De,{label:"Add kid"})})]})]})},Ee=function(e){var t=e.person,n=e.onViewChange,r=e.onBack,s=e.personManager,c=e.familyMembers,i=e.parentManager,o=Object(a.useState)(!1),l=Object(w.a)(o,2),u=l[0],h=l[1],j=function(){return h(!1)},p=new ee(s.addPerson,(function(e){return s.removePerson(e)}),(function(e){s.updatePerson(e),j()}));return Object(d.jsxs)(d.Fragment,{children:[!u&&Object(d.jsx)(Ie,{parentManager:i,familyMembers:c,onBack:r,person:t,onEdit:function(){return h(!0)},onViewChange:n}),u&&Object(d.jsx)(Le,{parentManager:i,familyMembers:c,personManager:p,person:t,onCancelEdit:j})]})},Ae=function e(t){Object(O.a)(this,e),this.Person=void 0,this.children=void 0,this.parents=void 0,this.siblings=void 0,this.spouses=void 0,this.Person=t,this.children=[],this.parents=[],this.siblings=[],this.spouses=[]},Te=function(){function e(t,n){Object(O.a)(this,e),this.parentMap=void 0,this.people=void 0,this.parentMap=t,this.people=n}return Object(y.a)(e,[{key:"build",value:function(){for(var e={},t=0,n=Object.values(this.people);t<n.length;t++){var r=n[t],a=r.getId();if(a in e||(e[a]=new Ae(r)),r.getId()in this.parentMap)for(var s=e[a],c=this.parentMap[a],i=this.parentMap[a].length,o=0;o<i;o++){var l=c[o];this.addToMap(l,e);var u,d=Object(V.a)(e[l].children);try{for(d.s();!(u=d.n()).done;){var h=u.value;h.siblings.push(s),s.siblings.push(h)}}catch(j){d.e(j)}finally{d.f()}s.parents.push(e[l]),e[l].children.push(s),2===i&&1===o&&(e[c[0]].spouses.push(e[c[1]]),e[c[1]].spouses.push(e[c[0]]))}}return e}},{key:"addToMap",value:function(e,t){e in t||(t[e]=new Ae(this.people[e]))}}]),e}(),Be=function(e){var t,n={},r=Object(V.a)(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;n[a.getId()]=a}}catch(s){r.e(s)}finally{r.f()}return n},Fe=function(e){Object(N.a)(n,e);var t=Object(k.a)(n);function n(e){var r;return Object(O.a)(this,n),(r=t.call(this,e)).handleDeletePerson=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce(t);case 2:if(!e.sent){e.next=6;break}n=r.state.people.filter((function(e){return e.getId()!==t.getId()})),a=new Te(r.props.parents,Be(n)).build(),r.setState({people:n,familyMembers:a});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleCreatePerson=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se(t);case 2:(n=e.sent)&&(a=[].concat(Object(f.a)(r.state.people),[n]),s=new Te(r.props.parents,Be(a)).build(),r.setState({people:a,familyMembers:s}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleEditPerson=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:(n=e.sent)&&(a=r.state.people.filter((function(e){return e.getId()!==t.getId()})),a=[].concat(Object(f.a)(a),[n]),s=new Te(r.props.parents,Be(a)).build(),r.setState({people:a,familyMembers:s}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={people:[],loading:!0,familyMembers:new Te(r.props.parents,Be([])).build()},r}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(this.props.tree.getId());case 2:t=e.sent,n=new Te(this.props.parents,Be(t)).build(),this.setState({people:t,loading:!1,familyMembers:n});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.people,n=e.loading,r=e.familyMembers,a=this.props,s=a.tree,c=a.onBack,i=a.parentManager,o=new ee(this.handleCreatePerson,this.handleDeletePerson,this.handleEditPerson);return Object(d.jsx)(te,{onBack:c,famTree:s,people:t,personManager:o,loading:n,children:function(e,t,n,a){return Object(d.jsx)(ne,{initView:t,children:function(t,s){return Object(d.jsxs)(d.Fragment,{children:[t===K.PHONE&&Object(d.jsx)(ve,{personManager:a,parentManager:i,familyMembers:r,onViewChange:s,person:e}),t===K.DETAILS&&Object(d.jsx)(Ee,{parentManager:i,familyMembers:r,personManager:a,onBack:n,person:e,onViewChange:s})]})}})}})}}]),n}(a.Component),Re=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/trees",{body:JSON.stringify({name:t.getName()}),method:"post",headers:{accept:"text/json","Content-Type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",new T(r.tree.id,r.tree.name));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/trees/"+t.getId(),{method:"delete"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return","Deleted"===r.status);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(v.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/trees");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.trees.map((function(e){return new T(e.id,e.name)})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(v.a)(g.a.mark((function e(t,n){var r,a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={personId:t.getId(),parentId:n.getId()},e.next=3,fetch("/api/person-parents",{body:JSON.stringify(r),method:"post",headers:{accept:"text/json","Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:return s=e.sent,e.abrupt("return","Added"===s.status);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(v.a)(g.a.mark((function e(t,n){var r,a,s;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={personId:t.getId(),parentId:n.getId()},e.next=3,fetch("/api/person-parent",{body:JSON.stringify(r),method:"delete",headers:{accept:"text/json","Content-Type":"application/json"}});case 3:return a=e.sent,e.next=6,a.json();case 6:return s=e.sent,e.abrupt("return","Removed"===s.status);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Je=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/tree-parents/"+t.getId(),{method:"get"});case 2:return n=e.sent,e.prev=3,e.next=6,n.json();case 6:if(!(r=e.sent).personParents){e.next=9;break}return e.abrupt("return",r.personParents);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log("Person not found!");case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){function e(t,n){Object(O.a)(this,e),this.add=void 0,this.remove=void 0,this.add=t,this.remove=n}return Object(y.a)(e,[{key:"addParent",value:function(e,t){this.add(e,t)}},{key:"removeParent",value:function(e,t){this.remove(e,t)}}]),e}(),Ke=function(e){Object(N.a)(n,e);var t=Object(k.a)(n);function n(e){var r;return Object(O.a)(this,n),(r=t.call(this,e)).addParent=function(){var e=Object(v.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ParentController",t,n),e.next=3,Ve(t,n);case 3:if(!e.sent){e.next=5;break}t.getId()in r.state.parents?r.state.parents[t.getId()].push(n.getId()):r.state.parents[t.getId()]=[n.getId()];case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.removeParent=function(){var e=Object(v.a)(g.a.mark((function e(t,n){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(t,n);case 2:if(!e.sent){e.next=4;break}t.getId()in r.state.parents?r.state.parents[t.getId()].push(n.getId()):r.state.parents[t.getId()]=[n.getId()];case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),r.state={parents:[]},r}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){var t,n,r,a,s,c,i;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.state.parents,e.next=3,Je(this.props.tree);case 3:t=e.sent,console.log("ParentController",t),n={},r=Object(V.a)(t);try{for(r.s();!(a=r.n()).done;)s=a.value,c=s.personId,i=s.parentId,c in n?n[c].push(i):n[c]=[i]}catch(o){r.e(o)}finally{r.f()}console.log("ParentController",n),this.setState({parents:n});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return(0,this.props.children)(this.state.parents,new Ye(this.addParent,this.removeParent))}}]),n}(a.Component),Xe=function(e){Object(N.a)(n,e);var t=Object(k.a)(n);function n(e){var r;return Object(O.a)(this,n),(r=t.call(this,e)).handleDeleteTree=function(){var e=Object(v.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He(t);case 2:if(!e.sent){e.next=5;break}n=r.state.trees.filter((function(e){return e.getId()!==t.getId()})),r.setState({trees:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.handleCreateTree=function(){var e=Object(v.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Re(t);case 2:(n=e.sent)&&(a=[].concat(Object(f.a)(r.state.trees),[n]),r.setState({trees:a}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.state={trees:[],loading:!0},r}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=Object(v.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,ze();case 3:e.t1=e.sent,e.t2={trees:e.t1,loading:!1},e.t0.setState.call(e.t0,e.t2);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.trees,n=e.loading;return Object(d.jsx)(z,{trees:t,doNewTree:this.handleCreateTree,loading:n,children:function(e,t){return Object(d.jsx)(Ke,{tree:e,children:function(n,r){return Object(d.jsx)(Fe,{parentManager:r,parents:n,onBack:t,tree:e})}})}})}}]),n}(a.Component),We=function(){return Object(d.jsx)(Xe,{})},qe=(n(81),n(82),function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#fff",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:80;Object(O.a)(this,e),this.canvas=void 0,this.ctx=void 0,this.particles=void 0,this.mouse=void 0,this.keepRadius=void 0,this.particlesCount=void 0,this.particleColor=void 0,this.canvas=t,this.particleColor=r,this.ctx=this.canvas.getContext("2d"),this.particles=[],this.keepRadius=a,this.mouse={x:null,y:null,radius:this.canvas.height/this.keepRadius*(this.canvas.width/this.keepRadius)},this.setCanvasSize(),window.addEventListener("mousemove",(function(e){n.mouse.x=e.x,n.mouse.y=e.y})),window.addEventListener("resize",(function(){n.setCanvasSize(),n.build()})),window.addEventListener("mouseout",(function(){n.mouse.x=null,n.mouse.y=null}))}return Object(y.a)(e,[{key:"setCanvasSize",value:function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.particlesCount=this.canvas.height*this.canvas.width/9e3,this.particlesCount=Math.min(120,this.particlesCount),this.mouse.radius=this.canvas.height/this.keepRadius*(this.canvas.width/this.keepRadius)}},{key:"build",value:function(){this.particles=[];for(var e=0;e<this.particlesCount;e++){var t=5*Math.random()+1,n=2*t,r=Math.random()*(this.canvas.width-n-n)+n,a=Math.random()*(this.canvas.height-n-n)+n,s=2*Math.random()-1,c=2*Math.random()-1,i=this.particleColor;this.particles.push(new Ue(r,a,s,c,t,i))}}},{key:"animate",value:function(){var e=this;requestAnimationFrame((function(){return e.animate()}));var t=this.canvas,n=this.mouse,r=this.particles,a=this.ctx;a.clearRect(0,0,t.width,t.height);for(var s=0;s<r.length;s++)r[s].update(t,n,a);this.connect()}},{key:"connect",value:function(){for(var e=this.particles,t=this.canvas,n=this.ctx,r=1,a=0;a<e.length;a++)for(var s=a;s<e.length;s++){var c=e[a].x,i=e[a].y,o=e[s].x,l=e[s].y,u=(c-o)*(c-o)+(i-l)*(i-l);u<t.width/7*(t.height/7)&&(r=.6-u/1e4,n.strokeStyle="rgba(255,255,255,".concat(r,")"),n.beginPath(),null===n||void 0===n||n.moveTo(c,i),null===n||void 0===n||n.lineTo(o,l),null===n||void 0===n||n.stroke())}}}]),e}()),Ue=function(){function e(t,n,r,a,s,c){Object(O.a)(this,e),this.x=void 0,this.y=void 0,this.directionX=void 0,this.directionY=void 0,this.size=void 0,this.color=void 0,this.x=t,this.y=n,this.directionX=r,this.directionY=a,this.size=s,this.color=c}return Object(y.a)(e,[{key:"draw",value:function(e){e.beginPath(),e.arc(this.x,this.y,this.size,0,2*Math.PI,!1),e.fillStyle=this.color,e.fill()}},{key:"update",value:function(e,t,n){(this.x>e.width||this.x<0)&&(this.directionX=-this.directionX),(this.y>e.height||this.y<0)&&(this.directionY=-this.directionY);var r=t.x,a=t.y,s=t.radius;if(r&&a){var c=r-this.x,i=a-this.y;if(Math.sqrt(c*c+i*i)<s+this.size){var o=10*this.size;r<this.x&&this.x<e.width-o&&(this.x+=3),r>this.x&&this.x>o&&(this.x-=3),a<this.y&&this.y<e.height-o&&(this.y+=3),a>this.y&&this.y>o&&(this.y-=3)}}this.x+=this.directionX,this.y+=this.directionY,this.draw(n)}}]),e}(),_e=qe,Qe=function(e){Object(N.a)(n,e);var t=Object(k.a)(n);function n(e){var r;return Object(O.a)(this,n),(r=t.call(this,e)).particles=void 0,r.particles=s.a.createRef(),r}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=new _e(this.particles.current,"rgba(255,255,255,0.6)");e.build(),e.animate()}},{key:"render",value:function(){return Object(d.jsx)("canvas",{ref:this.particles,style:{position:"fixed",width:"-webkit-fill-available",zIndex:-1}})}}]),n}(a.Component);var Ze=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Qe,{}),Object(d.jsx)(h,{}),Object(d.jsx)("div",{className:"page",children:Object(d.jsx)(We,{})}),Object(d.jsx)(m,{})]})},$e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};i.a.render(Object(d.jsx)(Ze,{}),document.getElementById("root")),$e(console.log)}},[[83,1,2]]]);
//# sourceMappingURL=main.aeaeba6d.chunk.js.map